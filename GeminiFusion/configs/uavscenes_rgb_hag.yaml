# GeminiFusion UAVScenes Configuration
# Fair comparison settings with CMNeXt, DFormerv2, and TokenFusion

# Dataset
dataset: uavscenes
data_path: /home/bariskaya/Projelerim/UAV/UAVScenesData
num_classes: 19
ignore_label: 255

# Training
image_size: [768, 768]
batch_size: 8
num_workers: 8

# Augmentation (same as original GeminiFusion)
color_jitter_p: 0.2
horizontal_flip_p: 0.5
gaussian_blur_p: 0.2
gaussian_blur_kernel: [3, 3]
scale_range: [0.5, 2.0]
crop_size: [768, 768]

# Model
backbone: mit_b2
pretrained: pretrained/mit_b2.pth  # ImageNet pretrained (shared for RGB+HAG)
n_heads: 8          # Cross-attention heads
dpr: 0.1            # Drop path rate (0.1 for B2, 0.4 for B3+)
drop_rate: 0.0
embedding_dim: 256
# Input channels: GeminiFusion uses shared weights, both modalities need 3ch
in_chans: 3
aux_channels: 3     # Dataset aux channels (3 for shared weights architecture)

# Optimizer
optimizer:
  type: AdamW
  lr: 6.0e-5
  betas: [0.9, 0.999]
  weight_decay: 0.01

# Scheduler
scheduler:
  type: PolyLR
  max_epochs: 60
  power: 0.9           # CMNeXt paper setting
  warmup_type: linear
  warmup_epochs: 3
  warmup_ratio: 0.1    # CMNeXt paper setting

# Training schedule
num_stages: 3
epochs_per_stage: 20
val_every: 5

# HAG (Height Above Ground)
hag_max_meters: 50.0

# Normalization
rgb_mean: [0.485, 0.456, 0.406]
rgb_std: [0.229, 0.224, 0.225]

# Evaluation
eval_mode: slide
slide_size: [768, 768]
slide_stride: [512, 512]

# Checkpoint
freeze_bn: true
random_seed: 42
