# GeminiFusion DELIVER Configuration
# RGB + LiDAR Multi-Modal Semantic Segmentation
# Cross-dataset evaluation settings

# Dataset
dataset: deliver
data_path: data/DELIVER
num_classes: 25
ignore_label: 255

# Training
image_size: [1024, 1024]
batch_size: 4
num_workers: 8

# Augmentation
color_jitter_p: 0.2
horizontal_flip_p: 0.5
gaussian_blur_p: 0.2
gaussian_blur_kernel: [3, 3]
scale_range: [0.5, 2.0]
crop_size: [1024, 1024]

# Model
backbone: mit_b2
n_heads: 8
dpr: 0.1
drop_rate: 0.0
embedding_dim: 256
# GeminiFusion uses shared weights - both modalities need 3 channels
in_chans: 3
aux_channels: 3

# Optimizer
optimizer:
  type: AdamW
  lr: 6.0e-5
  betas: [0.9, 0.999]
  weight_decay: 0.01

# Scheduler
scheduler:
  type: PolyLR
  max_epochs: 60
  power: 1.0
  warmup_type: linear
  warmup_epochs: 3
  warmup_ratio: 1.0e-6

# Training schedule
num_stages: 3
epochs_per_stage: 20
val_every: 5

# LiDAR (placeholder normalization - update with actual DELIVER stats)
lidar_mean: [0.5, 0.5]
lidar_std: [0.5, 0.5]

# Normalization
rgb_mean: [0.485, 0.456, 0.406]
rgb_std: [0.229, 0.224, 0.225]

# Evaluation
eval_mode: slide
slide_size: [1024, 1024]
slide_stride: [512, 512]

# Checkpoint
freeze_bn: true
random_seed: 42
